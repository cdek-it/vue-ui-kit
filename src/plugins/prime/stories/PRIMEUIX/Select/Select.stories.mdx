import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { 
  BasicTemplate,
  EditableTemplate,
  GroupTemplate,
  FilterTemplate,
  TemplateCustomTemplate,
  FilledTemplate,
  DisabledTemplate,
  InvalidTemplate
} from './Select.template';

<Meta title="PRIMEUIX/Form/Select" />

# Select

Select - это компонент для выбора элемента из списка опций.

[Документация PrimeVue](https://primevue.org/select/)

---

## Базовый

Select используется с двусторонней привязкой через v-model и массивом опций.

<Story name="Базовый">
  {BasicTemplate.bind({})}
</Story>

```html
<Select 
  v-model="selectedCity" 
  :options="cities" 
  optionLabel="name" 
  placeholder="Выберите город"
/>
```

---

## Редактируемый

Свойство `editable` позволяет вводить пользовательское значение.

<Story name="Редактируемый">
  {EditableTemplate.bind({})}
</Story>

```html
<Select 
  v-model="selectedCity" 
  :options="cities" 
  optionLabel="name" 
  editable
  placeholder="Выберите или введите город"
/>
```

---

## Группы

Опции можно группировать с помощью свойств `optionGroupLabel` и `optionGroupChildren`.

<Story name="Группы">
  {GroupTemplate.bind({})}
</Story>

```html
<Select 
  v-model="selectedCity" 
  :options="groupedCities" 
  optionLabel="label" 
  optionGroupLabel="label"
  optionGroupChildren="items"
  placeholder="Выберите город"
/>
```

---

## Фильтр

Свойство `filter` добавляет поле поиска для фильтрации опций.

<Story name="Фильтр">
  {FilterTemplate.bind({})}
</Story>

```html
<Select 
  v-model="selectedCity" 
  :options="cities" 
  optionLabel="name"
  filter
  filterPlaceholder="Поиск города"
  placeholder="Выберите город"
/>
```

---

## Шаблон

Слот `option` позволяет настроить отображение каждой опции.

<Story name="Шаблон">
  {TemplateCustomTemplate.bind({})}
</Story>

```html
<Select v-model="selectedCity" :options="cities" optionLabel="name">
  <template #option="slotProps">
    <div class="flex items-center gap-2">
      <i class="pi pi-map-marker"></i>
      <div>{{ slotProps.option.name }}</div>
    </div>
  </template>
</Select>
```

---

## Заполненный

Вариант `filled` применяет альтернативный стиль оформления.

<Story name="Заполненный">
  {FilledTemplate.bind({})}
</Story>

```html
<Select 
  v-model="selectedCity" 
  :options="cities" 
  optionLabel="name"
  variant="filled"
  placeholder="Выберите город"
/>
```

---

## Отключенный

Отключенное состояние предотвращает взаимодействие с компонентом.

<Story name="Отключенный">
  {DisabledTemplate.bind({})}
</Story>

```html
<Select v-model="selectedCity" :options="cities" optionLabel="name" disabled />
```

---

## Невалидный

Невалидное состояние используется для индикации ошибок валидации.

<Story name="Невалидный">
  {InvalidTemplate.bind({})}
</Story>

```html
<Select v-model="selectedCity" :options="cities" optionLabel="name" invalid />
<small class="text-red-600">Необходимо выбрать город</small>
```
