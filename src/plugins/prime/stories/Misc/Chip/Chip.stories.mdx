import { Meta, Story } from '@storybook/addon-docs';

import { Template, AllStatesTemplate } from './Chip.template';

<Meta 
  title="Prime/Misc/Chip"
  parameters={{
    design: {
      type: 'figma',
      url: 'https://www.figma.com/design/HOLKdvQJ8jCLeX17s9d0Yf/UI-Kit--DS--v2.0?node-id=312-1298',
    },
  }}
/>

# Chip

[PrimeVue Chip](https://primevue.org/chip)

Chip компонент используется для отображения тегов, категорий или выбранных элементов.

## Все состояния

Показывает все возможные варианты chip: с иконкой, с кнопкой удаления, disabled.

<Story name="All States">{AllStatesTemplate.bind({})}</Story>

## Базовый chip

```html dark
<PrimeChip label="Chip" />
```

<Story name="Default" args={{label: "Chip"}}>{Template.bind({})}</Story>

## С иконкой

```html dark
<PrimeChip label="Chip" icon="ti ti-check" />
```

<Story name="Icon" args={{label: "Chip", icon: "ti ti-check"}}>{Template.bind({})}</Story>

## С кнопкой удаления

```html dark
<PrimeChip label="Chip" removable />
```

<Story name="Removable" args={{label: "Chip", removable: true}}>{Template.bind({})}</Story>

## С иконкой и кнопкой удаления

```html dark
<PrimeChip label="Chip" icon="ti ti-check" removable />
```

<Story name="RemovableIcon" args={{label: "Chip", icon: "ti ti-check", removable: true}}>{Template.bind({})}</Story>

## Disabled

```html dark
<PrimeChip label="Chip" icon="ti ti-check" removable disabled />
```

<Story name="Disabled" args={{label: "Chip", icon: "ti ti-check", removable: true, disabled: true}}>{Template.bind({})}</Story>

## Доступность (Accessibility)

Для управления chip с клавиатуры необходимо добавить `tabindex="0"` через Pass Through.

```html dark
<PrimeChip 
  label="Chip" 
  removable 
  icon="ti ti-check" 
  :pt="{removeIcon: {tabindex: '0'}}" 
/>
```

<Story name="Accessibility" args={{label: "Chip", icon: "ti ti-check", removable: true, pt: {removeIcon: {tabindex: "0"}}}}>{Template.bind({})}</Story>

### Управление tabindex для disabled

При использовании `disabled` необходимо управлять `tabindex` вручную:

```html dark
<script setup>
import { ref, computed } from 'vue';

const disabled = ref(true);
const tabIndex = computed(() => disabled.value ? '-1' : '0');
</script>

<template>
  <PrimeChip 
    label="Chip" 
    removable 
    icon="ti ti-check" 
    :disabled="disabled"
    :pt="{removeIcon: {tabindex: tabIndex}}" 
  />
</template>
```

<Story name="AccessibilityDisabled" args={{label: "Chip", icon: "ti ti-check", removable: true, disabled: true, pt: {removeIcon: {tabindex: "-1"}}}}>{Template.bind({})}</Story>
