import { Meta, Story } from '@storybook/addon-docs';

import { BasicTemplate, ErrorTemplate, IconsTemplate } from './Stepper.template';

<Meta title="Prime/Stepper" />

# Stepper

[PrimeVue Stepper](https://primevue.org/stepper), [Макет](https://www.figma.com/design/HOLKdvQJ8jCLeX17s9d0Yf/UI-Kit--DS--v2.0?node-id=1079-7496&t=j8q05RFyXpKxntpS-11)

### Basic

Базовый пример Stepper с тремя шагами.

```html dark
<Stepper value="1">
  <StepList>
    <Step value="1">
      Stepper
      <div class="caption-secondary">caption</div>
    </Step>
    <Step value="2">
      Stepper
      <div class="caption-secondary">caption</div>
    </Step>
    <Step value="3">
      Stepper
      <div class="caption-secondary">caption</div>
    </Step>
  </StepList>
  <StepPanels>
    <StepPanel v-slot="{ activateCallback }" value="1">
      <div class="flex flex-col gap-4">
        <div>Step 1 Content</div>
        <div class="flex justify-end">
          <Button label="Next" @click="activateCallback('2')" />
        </div>
      </div>
    </StepPanel>
    <StepPanel v-slot="{ activateCallback }" value="2">
      <div class="flex flex-col gap-4">
        <div>Step 2 Content</div>
        <div class="flex justify-between">
          <Button label="Back" severity="secondary" @click="activateCallback('1')" />
          <Button label="Next" @click="activateCallback('3')" />
        </div>
      </div>
    </StepPanel>
    <StepPanel v-slot="{ activateCallback }" value="3">
      <div class="flex flex-col gap-4">
        <div>Step 3 Content</div>
        <div class="flex justify-start">
          <Button label="Back" severity="secondary" @click="activateCallback('2')" />
        </div>
      </div>
    </StepPanel>
  </StepPanels>
</Stepper>
```

<Story name="Basic">{BasicTemplate.bind({})}</Story>

### Error

Пример Stepper с ошибкой на втором шаге. Используйте класс `step-invalid` для отображения состояния ошибки. Все последующие шаги после ошибки должны быть disabled.

```html dark
<Stepper value="2">
  <StepList>
    <Step value="1">
      Stepper
      <div class="caption-secondary">caption</div>
    </Step>
    <Step value="2" class="step-invalid">
      Stepper
      <div class="caption-secondary">caption</div>
    </Step>
    <Step value="3" disabled>
      Stepper
      <div class="caption-secondary">caption</div>
    </Step>
  </StepList>
  <StepPanels>
    <StepPanel v-slot="{ activateCallback }" value="1">
      <div class="flex flex-col gap-4">
        <div>Step 1 Content</div>
        <div class="flex justify-end">
          <Button label="Next" @click="activateCallback('2')" />
        </div>
      </div>
    </StepPanel>
    <StepPanel v-slot="{ activateCallback }" value="2">
      <div class="flex flex-col gap-4">
        <div>Step 2 Content (Invalid)</div>
        <div class="flex justify-between">
          <Button label="Back" @click="activateCallback('1')" />
          <Button label="Next" disabled />
        </div>
      </div>
    </StepPanel>
    <StepPanel v-slot="{ activateCallback }" value="3">
      <div class="flex flex-col gap-4">
        <div>Step 3 Content</div>
        <div class="flex justify-start">
          <Button label="Back" @click="activateCallback('2')" />
        </div>
      </div>
    </StepPanel>
  </StepPanels>
</Stepper>
```

<Story name="Error">{ErrorTemplate.bind({})}</Story>

### Icons

Пример Stepper с иконками вместо номеров. Используйте PT (Pass Through) API с `innerHTML` для замены номера на иконку.

```html dark
<Stepper value="1">
  <StepList>
    <Step 
      value="1" 
      :pt="{
        number: {
          innerHTML: '<i class=\\'ti ti-user\\'></i>'
        }
      }"
    >
      Personal Info
      <div class="caption-secondary">Enter your details</div>
    </Step>
    <Step 
      value="2"
      :pt="{
        number: {
          innerHTML: '<i class=\\'ti ti-credit-card\\'></i>'
        }
      }"
    >
      Payment
      <div class="caption-secondary">Payment method</div>
    </Step>
    <Step 
      value="3"
      :pt="{
        number: {
          innerHTML: '<i class=\\'ti ti-check\\'></i>'
        }
      }"
    >
      Confirmation
      <div class="caption-secondary">Review and confirm</div>
    </Step>
  </StepList>
  <StepPanels>
    <StepPanel v-slot="{ activateCallback }" value="1">
      <div class="flex flex-col gap-4">
        <div>Step 1 Content</div>
        <div class="flex justify-end">
          <Button label="Next" @click="activateCallback('2')" />
        </div>
      </div>
    </StepPanel>
    <StepPanel v-slot="{ activateCallback }" value="2">
      <div class="flex flex-col gap-4">
        <div>Step 2 Content</div>
        <div class="flex justify-between">
          <Button label="Back" @click="activateCallback('1')" />
          <Button label="Next" @click="activateCallback('3')" />
        </div>
      </div>
    </StepPanel>
    <StepPanel v-slot="{ activateCallback }" value="3">
      <div class="flex flex-col gap-4">
        <div>Step 3 Content</div>
        <div class="flex justify-start">
          <Button label="Back" @click="activateCallback('2')" />
        </div>
      </div>
    </StepPanel>
  </StepPanels>
</Stepper>
```

<Story name="Icons">{IconsTemplate.bind({})}</Story>
